## Работа с базой данных
***

## Php и Mysql
### Порядок работы напоминает работу с файлами:
- Нужно открыть соединение с сервером БД, набрав нужную базу;
- Отправить запрос (подготовить запрос - это просто строка, подставить данные - разные типы);
- Получить ответ (это специальный тип);
- Преобразовать результат в объекты PHP.


#### PDO - php data object:
- $dbh - объект, который отвечает за соединение;
- $sth - объект - подготовленный запрос;

Создаем объект-соединение с БД:
~~~php
$dbh = new PDO('mysql:host=localhost;dbname=test', 'root', '');
~~~
Готовим запрос:
~~~php
$sth = $dbh->prepare('SELECT * FROM persons');
~~~
Выполняем запрос:
~~~php
$sth->execute();
~~~
Получаем данные результата запроса:
~~~php
$data - $sth->fetchAll();
~~~

~~~php
$sth = $dbh->prepare(
    'SELECT * FROM persons WHERE id=:id'
);

$sth->execute([':id' => 42]);
$data = $sth->fetchAll();
~~~