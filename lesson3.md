## Массивы. Циклы. Взаимодействие с пользователем
***

## Массивы
### Массив - это несколько значений, хранящихся, как одно целое.

- Для задания массива используют квадратные скобки;
- Массив в php может содержать в себе любое количество элементов любого типа:
~~~php
$foo = [1, 2, 'foo', 'bar', 23]; 
~~~
- В массив можно в любой момент добавить еще один элемент:
~~~php
$foo = [1, 2, 'foo', 'bar', 23];
$foo[] = 42;
~~~
- Упорядоченность такая, какую назначили (но можно упорядочить по другим параметрам);
- Каждый элемент массива содержит индекс (ключ) и значение;
- Если индекс не указан, счет идет от нуля;
- К любому элементу можно обратиться по его индексу:
~~~php
$arr = [1, 2, 3];
echo $foo[0];   // 1
~~~
- Индекс может быть числовым или строковым;
- Массив в качестве одного из своих элементов может иметь другой массив. Это многомерные массивы
~~~php
$arr = [
    1 => [10, 20, 30],
    2 => [100, 200, 300]
];
~~~
- Вложенность массивов друг в друга неограничена;
- Для обращения к элементам многомерного массива используют несколько квадратных скобок:
~~~php
$arr[1];        // это массив [10, 20, 30]
$arr[1][0];     // это число 10
~~~

### В php массив строго упорядоченное множество пар ключ-значение. Среди этих пар всегда есть первая, последующая, последняя и т.д. Не сортированный по ключам, но сортируется по порядку добавления в него элементов. 
___


## Работа с массивами
### Цикл foreach
Специальная конструкция языка, позволяющая пройтись по всем элементам массива:
~~~php
$arr = [1, 2, 3];

foreach ($arr as $value) {
    echo $value;
} 
~~~

- Переменная $value на каждом шаге цикла (итерации) получает значение одного элемента массива
- Цикл закончится тогда, когда закончится обход всех элементов
- Для получения индексов, необходимо:
~~~php
foreach ($arr as $index => $value) {
    ...
} 
~~~
___


## Полезные функции для работы с массивами
- in_array($value, $array) - Проверяет, содержится ли в массиве $array элемент со значением $value, возвращает true либо false
- isset($array[$x]) - Проверяет, содержится ли в массиве $array элемент с индексом $x, возвращает true либо false
- array_merge($arr1, $arr2) - Возвращает объединение массивов, то есть массив, состоящий из всех элементов и первого, и второго
- array_intersect($arr1, $arr2) - Возвращает пересечение массивов, то есть массив, состоящий из тех элементов, что есть и в первом, и во втором
- $array = explode(',', $string) - Разбивает строку на «кусочки», используя указанный разделитель, возвращает массив
- $string = implode(',', $array) - «Склеивает» массив в строку, собирая эту строку из элементов массива, используя указанный разделитель
___


## Взаимодействие с клиентом
### Метод GET протокола HTTP
Самый простой метод для передачи данных от клиента к серверу:
- берем ссылку (URL):
> http://php1.ru/index.php
- дописываем после пути знак вопроса и пару "ключ-значение" через знак "=":
> http://php1.ru/index.php?foo=bar
- можно передать несколько параметров, разделяя из знаком "&":
> http://php1.ru/index.php?foo=bar&baz=42
- переходим по ссылке - параметры передались на сервер. На сервере они доступны сразу и везде в суперглобальном массиве $_GET.

Для получения данных:
~~~php
if (isset($_GET['name'])) {
    $name = $_GET['name'];
} else {
    $name = null;
}
~~~
Или:
~~~php
$name = $_GET['name'] ?? null;
~~~


### Метод POST протокола HTTP
Еще один метод для передачи данных от клиента к серверу. В отличие от GET:
- Данные идут "невидимо" для пользователя (можно посмотреть в отладчике);
- Данных может быть много;
- Они шифруются, если передавать по HTTPS

Как начать использовать?
- Для начала нужно подготовить форму:
~~~html
<form action="/send.php" method="post">
    <input type="text" name="login">
    <input type="password" name="pass">
</form>
~~~
- Обратить внимание на атрибуты action и method;
- Каждый элемент формы должен иметь имя (атрибут name);
- Данные из формы будут доступны в суперглобальном массиве $_POST

$_POST содержит в себе данные переданные в текущем запросе от пользователя на сервер.
Индекс массива совпадает с названиями полей формы.

Особенности:
- точки в именах полей преобразуются в подчеркивания в индексах массива $_POST;
- можно передавать массивы:
~~~php
<form action="/send.php" method="post">
    <input type="text" name="foo[1]">
    <input type="text" name="foo[2]">
</form>

echo $_POST['foo'][1];
~~~
___


## isset и empty
isset - проверяет существование какого-либо элемента, выдает true, если даже значение элемента false;
empty - проверяет на пустоту, выдает true, если элемента нет или его значение false;

isset vs !empty - в отличие от isset, !empty будет проверять не только на существование, но и на пустоту, в то время как isset только на существование.
